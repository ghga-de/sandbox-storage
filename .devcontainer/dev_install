#!/bin/bash
# install service in dev container

cd /workspace

# install in edit mode
# use future way of installing packages
# install with testing dependencies
pip install \
    --use-feature=in-tree-build \
    -e \
    ".[testing]"

pre-commit install

cd database_migration

# Check if the database has been initialized and if not initialize it
alembic -c alembic.ini upgrade head
